\documentclass[11pt,leqno]{article}
\headheight=13.6pt

% packages
\usepackage[alphabetic]{amsrefs}
\usepackage{physics}
% margin spacing
\usepackage[top=1in, bottom=1in, left=0.5in, right=0.5in]{geometry}
\usepackage{hanging}
\usepackage{amsfonts, amsmath, amssymb, amsthm}
\usepackage{extarrows}
\usepackage[none]{hyphenat}
\usepackage{fancyhdr}
\usepackage{graphicx}
\graphicspath{{./images/}}
\usepackage{float}
\usepackage{imakeidx}
    % \AtBeginDocument{\renewcommand\indexname{Index}}
    \makeindex
\indexsetup{level=\section*,toclevel=section,noclearpage,firstpagestyle=fancy}
\usepackage{color}
\newcommand{\sai}[1]{\textcolor{red}{#1}}
\usepackage{enumitem}
\usepackage{mathrsfs}
\usepackage{hyperref}
\usepackage[noabbrev, capitalise]{cleveref}
\crefformat{equation}{equation~#2#1#3}
\crefformat{lemma}{\textrm{Lemma}~#2#1#3}
\usepackage{quiver}
\usepackage{titlesec}
\titleformat{\section}
  {\bfseries}{Lecture \thesection}{1em}{}

% theorems
\theoremstyle{plain}
\newtheorem{lem}{Lemma}
\newtheorem{lemma}[lem]{Lemma}
\newtheorem{thm}[lem]{Theorem}
\newtheorem{theorem}[lem]{Theorem}
\newtheorem{prop}[lem]{Proposition}
\newtheorem{proposition}[lem]{Proposition}
\newtheorem{cor}[lem]{Corollary}
\newtheorem{corollary}[lem]{Corollary}
\newtheorem{conj}[lem]{Conjecture}
\newtheorem{fact}[lem]{Fact}
\newtheorem{form}[lem]{Formula}

\theoremstyle{definition}
\newtheorem{defn}[lem]{Definition}
\newtheorem{definition/}[lem]{Definition}
\newenvironment{definition}
  {\renewcommand{\qedsymbol}{\textdagger}%
   \pushQED{\qed}\begin{definition/}}
  {\popQED\end{definition/}}
\newtheorem{example}[lem]{Example}
\newtheorem{remark}[lem]{Remark}
\newtheorem{exercise}[lem]{Exercise}
\newtheorem{notation}[lem]{Notation}

\numberwithin{equation}{section}
\numberwithin{lem}{section}

% header/footer formatting
\pagestyle{fancy}
\fancyhead{}
\fancyfoot{}
\fancyhead[L]{M 392C}
\fancyhead[C]{}
\fancyhead[R]{Algebraic Geometry}
\fancyfoot[R]{\thepage}
\renewcommand{\headrulewidth}{1pt}

% paragraph indentation/spacing
\setlength{\parindent}{0cm}
\setlength{\parskip}{10pt}
\renewcommand{\baselinestretch}{1.25}

% extra commands defined here
\newcommand{\br}[1]{\left(#1\right)}
\newcommand{\sbr}[1]{\left[#1\right]}
\newcommand{\cbr}[1]{\left\{#1\right\}}
\newcommand{\eq}[1]{\overset{(#1)}{=}}
\newcommand{\idx}[1]{#1\index{#1}} % adds to index
\newcommand{\bidx}[1]{\textbf{#1\index{#1}}} % adds to index

% bracket notation for inner product
\usepackage{mathtools}

\DeclarePairedDelimiterX{\abr}[1]{\langle}{\rangle}{#1}

\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\rad}{rad}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\Max}{Max}
\DeclareMathOperator{\Spec}{Spec}
\DeclareMathOperator{\Frac}{Frac}
\DeclareMathOperator{\res}{res}

% categories
\newcommand{\catname}[1]{{\normalfont\mathbf{#1}}}
\newcommand{\Set}{\catname{Set}}
\newcommand{\Ring}{\catname{Ring}}
\newcommand{\Top}{\catname{Top}}
\newcommand{\Kalg}{K\text{-}\catname{Alg}}
\newcommand{\Ouv}{\catname{Ouv}}
\newcommand{\Psh}{\catname{Psh}}
\newcommand{\Sh}{\catname{Sh}}


% smileys frownies
\usepackage{wasysym}
\newcommand{\smallhappy}{\raisebox{-.14em}{\smiley}}
\newcommand{\happy}{\raisebox{-.24em}{\resizebox{1.2em}{!}{\smiley}}}
\newcommand{\smallsad}{\raisebox{-.14em}{\frownie}}
\newcommand{\sad}{\raisebox{-.24em}{\resizebox{1.2em}{!}{\frownie}}}
\DeclareMathOperator{\mathhappy}{\!\happy\!}
\DeclareMathOperator{\smallmathhappy}{\!\smallhappy\!}
\DeclareMathOperator{\mathsad}{\!\sad\!}
\DeclareMathOperator{\smallmathsad}{\!\smallsad\!}

% set page count index to begin from 1
\setcounter{page}{1}

\begin{document}
M 392C Algebraic Geometry, Fall 2024: Dr. Chiara Damiolini's notes, augmented and \TeX ed by Sai Sivakumar. Text references: \textit{Algebraic Geometry I: Schemes} by G\"ortz and Wedhorn, and \textit{Algebraic Geometry} by Hartshorne.

\sai{ask jemma for her notes at some point for inspiring art}
\sai{italicize nice words/phrases throughout tastefully}
\section{08/26}
We briefly show some examples of objects in algebraic geometry.

Consider the quadric surface in $\mathbb R^3$ given by the solution set of the equation $xy = z$.
\sai{insert picture}
Sometimes families of geometric objects (e.g., hyperbolae) are not compact, but degenerate into objects of different natures.
We would like to be able to treat degenerate curves as well using algebraic geometry.

Consider the curve $C$ in $\mathbb R^2$ given by the solution set of the equation $y^2 = x^3$.
\sai{insert picture}
We parameterize $C$ by $t\mapsto (t^2,t^3)$ for $t$ a real parameter (a bijection), but we would like to say that $C$ and the real line $\mathbb R$ are not ``isomorphic'' curves due to the cusp $C$ has that $\mathbb R$ does not have (though we say that these curves are birational to each other). The parameterization $t\mapsto (t^2, t^3)$ induces the following map of rings
\begin{equation}
  \frac{\mathbb C[x,y]}{(y^2-x^3)}\to \mathbb C[t]\quad \text{given by}\quad  x\mapsto t^2, y\mapsto t^3.
\end{equation}
We would like to use commutative algebra to study curves like the ones above.

Some important spaces are not given by solution sets to systems of polynomial equations, but are instead defined implicitly or even by universal properties.
Consider the real projective line $\mathbb P_{\mathbb R}^1 = \cbr{\text{linear subspaces of }\mathbb R^2} = (\mathbb R^2\setminus\cbr{0})/\mathbb R^\times$, in which points are identified under scaling; that is, $(x,y)\equiv (\lambda x,\lambda y)$ for $\lambda\in \mathbb R^\times$. Denote the equivalence class of $(x,y)$ by $[x:y]$. \sai{insert picture}
Observe that $\mathbb P_{\mathbb R}^1$ is covered by two copies of $\mathbb R$; that is, we can find two open subsets of $\mathbb P_{\mathbb R}^1$ each homeomorphic to $\mathbb R$ whose union is $\mathbb P_{\mathbb R}^1$: The subsets $\cbr{[a:1]\mid a\in\mathbb R}$ and $\cbr{[1:b]\mid b\in \mathbb R}$ form a cover of $\mathbb P_{\mathbb R}^1$, noting that for $c\in\mathbb R^\times$, $[c:1] = [1:c^{-1}]$.
We seek to generalize this example, but run into difficulties. 
In considering the quotient $\mathbb R^2/\mathbb R^\times$, one complication is that the origin $(0,0)$ is fixed, so finding a parameterization is not easy.

The choice of coefficients is necessary data when posing questions. Consider the polynomial equation $x^2+y^2 = -1$. If $x,y$ take on real values, there are no solutions, whereas complex solutions exist.
In particular, if $x,y\in \mathbb C$, then we may factor $x^2 + y^2$ to obtain $(x+iy)(x-iy) = -1$. The change of coordinates given by $s = x+iy$ and $t = -(x-iy)$ yields the polynomial equation $st = 1$, whose solution set is $(\mathbb C^\ast)^2$.
Another example: Fermat's last theorem says that the equation $x^n + y^n = 1$ for $n\geq 3$ has no solutions over $\mathbb Q$ unless $x = 0$ or $y = 0$, but this is false over $\mathbb R$.

\newpage\section{08/28}
Throughout this course, rings are commutative and unital; in turn ideals are two-sided.
Recall that if $\mathfrak p$ is a prime ideal of a ring $R$, then $R/\mathfrak p$ is an integral domain (in what follows, we suppress ``integral'' in ``integral domain'').
If $\mathfrak m$ is a maximal ideal in $R$, then $R/\mathfrak m$ is a field.

We explore the relationship between maximal ideals and solution sets to polynomial equations.
For $K$ a field, let $R = K[x_1,\dots,x_n]$. Recall that $R$ is a Noetherian ring, that is, every ideal $I$ of $R$ is finitely generated, so $I = \abr{f_1,\dots,f_m}$.
That $R$ is Noetherian follows from Hilbert's basis theorem, which states that if $A$ is Noetherian, then $A[x]$ is also Noetherian.

Let $I = \abr{f_1,\dots,f_m}$ be an ideal of $R$ and consider the map
\begin{multline}
  V(I)\coloneqq\cbr{\underline a = (a_1,\dots,a_n)\in K^n \mid f_i(\underline a) = 0, 1\leq i\leq n}\xlongrightarrow{\varphi}\cbr{\text{max. ideals of }R/I}\\(\cong\cbr{\text{max. ideals of $R$ containing $I$}})
\end{multline}
that sends $\underline a$ to $\mathfrak m_{\underline a} \coloneqq \abr{(x_1-a_1),\dots,(x_n-a_n)}$. Note that $I$ is contained in $\mathfrak m_{\underline a}$ if and only if $f(\underline a) = 0$ for all $f\in I$, because $\mathfrak m_{\underline a} = \ker (R\to R/\mathfrak m_{\underline a}\cong K)$, where $R\to R/\mathfrak m_{\underline a}$ is the quotient map.
The map $\varphi$ is injective. and if $K$ is not algebraically closed, the map $\varphi$ may not be surjective. For example, take $K = \mathbb R$, $n =1$, and $I = 0$; the ideal $\abr{x^2+1}$ has no preimage under $\varphi$. Another possibility if $K$ is not algebraically closed is that $V(I)$ may be empty. For example, take $K = \mathbb R$, $n=1$, and $I= \abr{x^2+1}$; in this case $V(I)$ is empty but $R/I$ is a field.

A version of Hilbert's Nullstellensatz implies that $\varphi$ is a bijection if $K$ is algebraically closed.
\begin{theorem}[Hilbert's \idx{Nullstellensatz} \cite{gw}*{Theorem 1.7}]\label{thm: nullstellensatz 1.7}
  Let $K$ be a \textup{(}not necessarily algebraically closed\textup{)} field and let $A$ be a finitely generated $K$-algebra. Then for every prime ideal $\mathfrak p\subset A$ we have
  \begin{equation}
    \mathfrak p = \bigcap_{\substack{\mathfrak m \supseteq \mathfrak p \\ \textup{max. ideal}}} \mathfrak m;
  \end{equation}
  in other words, $A$ is Jacobson.
  Furthermore, if $\mathfrak m \subset A$ is a maximal ideal, the field extension $K\subseteq A/\mathfrak m$ is finite.
\end{theorem}
Let $K$ be algebraically closed, and let $\mathfrak m$ be a maximal ideal of $R$ containing $I$. Then with $R/\mathfrak m\cong K$, let $a_i$ be the image of $x_i$ in $K$. Then $\underline a = (a_1,\dots,a_n)$ is a suitable preimage of $\mathfrak m$ under $\varphi$.

This thought experiment reveals some limitations of using maximal ideals to parameterize solutions to systems of polynomial equations, since the map $\varphi$ above is not surjective in general. It may be helpful to consider a slightly more general perspective.

We continue, using the language of category theory. A summary of basic definitions and results in category theory is found in \cite{gw}*{Appendix A}.

In what follows, we do not assume that $K$ is algebraically closed. We seek to ``upgrade'' the map $\varphi$ above into a natural transformation. The bijection of sets 
\begin{equation}
  V(I)\cong \Hom_{\Kalg}(R/I,K)\quad \text{given by}\quad  \underline a\mapsto f\colon x_i\mapsto a_i
\end{equation}
(which holds since any homomorphism $R/I\to K$ of $K$-algebras is uniquely determined by its action on each $x_i$) implies that we may ``upgrade'' $V(-)$ to the functor $\Hom_{\Kalg}(-,K)\colon \Kalg\to\Set$. (Here we can think of $V(-)$ as a map that takes in $R/I$ and returns $V(I)$)

We want to refashion taking the set of maximal ideals of $R/I$ into a functor $\Max\colon \Kalg\to\Set$ given by the assignment
\begin{equation}
  \begin{tikzcd}[ampersand replacement=\&]
    A \& {\cbr{\text{max. ideals of }A}\eqqcolon \Max(A)} \&\& A \& {\Max(A)} \\
    \&\&\& B \& {\Max(B)}
    \arrow[maps to, from=1-1, to=1-2]
    \arrow[""{name=0, anchor=center, inner sep=0}, "f", from=1-4, to=2-4]
    \arrow[""{name=1, anchor=center, inner sep=0}, "{f^{-1}}"', from=2-5, to=1-5]
    \arrow[shorten <=12pt, shorten >=12pt, maps to, from=0, to=1]
  \end{tikzcd},
\end{equation}
but this assignment is not functorial unless we restrict to the subcategory of finitely generated $K$-algebras. It suffices to show that if $f\colon A\to B$ is a morphism of finitely generated $K$-algebras, then the preimage of a maximal ideal $\mathfrak m\subset B$ under $f$ is a maximal ideal of $A$. We start with the exact sequences below: 
\begin{equation}
  \begin{tikzcd}[ampersand replacement=\&]
    0 \& {f^{-1}(\mathfrak m)} \& A \& {A/f^{-1}(\mathfrak m)} \& 0 \\
    0 \& {\mathfrak m} \& B \& {B/\mathfrak m} \& 0
    \arrow[from=1-1, to=1-2]
    \arrow[from=1-2, to=1-3]
    \arrow[from=1-2, to=2-2]
    \arrow[from=1-3, to=1-4]
    \arrow["f", from=1-3, to=2-3]
    \arrow[from=1-4, to=1-5]
    \arrow[from=1-4, to=2-4]
    \arrow[from=2-1, to=2-2]
    \arrow[from=2-2, to=2-3]
    \arrow[from=2-3, to=2-4]
    \arrow[from=2-4, to=2-5]
  \end{tikzcd}
\end{equation}
The preimage $f^{-1}(\mathfrak m)$ is certainly a prime ideal of $A$, so from the map $A\to B/\mathfrak m$, we find that the domain $A/f^{-1}(\mathfrak m)$ is contained in $B/\mathfrak m$. But $K$ is contained in $A/f^{-1}(\mathfrak m)$ and $B/\mathfrak m$ is a finite extension of $K$ by the Nullstellensatz (\cref{thm: nullstellensatz 1.7}). It follows that every nonzero element in $A/f^{-1}(\mathfrak m)$ is algebraic over $K$ and hence invertible, so $A/f^{-1}(\mathfrak m)$ is a field. Thus $f^{-1}(\mathfrak m)$ is a maximal ideal.

In what follows, we restrict the functors $\Hom_{\Kalg}(-,K)$ and $\Max$ to the subcategory of finitely generated $K$-algebras. 

\newpage\section{08/30}
The map $\varphi$ from earlier induces a natural transformation of the functors $\Hom_{\Kalg}(-,K)$ and $\Max$ (restricting both functors to the category of finitely generated $K$-algebras)
\begin{equation}
  \varphi\colon \Hom_{\Kalg}(-,K)\xLongrightarrow{\ker}\Max,
\end{equation}
given by $\varphi_A\colon \Hom_{\Kalg}(A,K)\xlongrightarrow{\ker}\Max(A)$, the assignment sending a homomorphism to its kernel.
We check that $\varphi$ is a natural transformation; that is, given $f\colon A\to B$, we check that the following diagram commutes:
\begin{equation}
  \begin{tikzcd}[ampersand replacement=\&]
    {\Hom_{\Kalg}(A,K)} \& {\Max(A)} \\
    {\Hom_{\Kalg}(B,K)} \& {\Max(B)}
    \arrow["\ker", from=1-1, to=1-2]
    \arrow["{-\circ f}"', from=2-1, to=1-1]
    \arrow["\ker", from=2-1, to=2-2]
    \arrow["{f^{-1}}"', from=2-2, to=1-2]
  \end{tikzcd}
\end{equation}
Indeed, given $g\in \Hom_{\Kalg}(B,K)$, $a\in f^{-1}(\ker g)$ if and only if $f(a)\in \ker g$, that is $gf(a) = 0$, which is to say $a\in \ker (g\circ f)$.

If $K$ is algebraically closed, then $\varphi$ is a natural isomorphism since each $\varphi_A$ is surjective. In this case we say that $\Max$ is representable by the field $K$ (up to isomorphism). In this case we can extract some nice results very quickly. For example, if $V(I)$ is empty, the fact that $\varphi$ is a natural isomorphism implies that $\emptyset = V(I)\cong \Hom_{\Kalg}(K[x_1,\dots,x_n]/I,K)\cong \Max(K[x_1,\dots,x_n]/I)$, from which we deduce that $I= \abr{1} = K[x_1,\dots,x_n]$.

So far, we have looked at zeroes of $f_i\in I$ as points $\underline a\in K^n$, and in the preceding discussion we have identified these points with $\Hom_{\Kalg}(K[x_,1\dots,x_n]/I, K)$. In this spirit, we introduce a new definition.
\begin{definition}
  Let $A$ be any $K$-algebra (not necessarily finitely generated). Then the set of \bidx{rational points} (also called \bidx{$K$-points}) of $A$ is the set $\Hom_{\Kalg}(A,K)$.

  If $L$ if a field extension of $K$ (which could be infinite), the set of \bidx{$L$-points} of $A$ is the set $\Hom_{\Kalg}(A,L)$.

  The set of \bidx{geometric points} of $A$ is the set $\big(\bigcup_{L\supseteq K}\Hom_{\Kalg}(A,L)\big)/\!\sim$, where $f\colon A\to L$ is equivalent to $g\colon A\to L^\prime$ under $\sim$ if and only if there exists a field $F$ containing $L$ and $L^\prime$ such that
  \begin{equation}\label{eq: geometric points equivalence}
    \begin{tikzcd}[ampersand replacement=\&]
      \& L \\
      A \&\& F \\
      \& {L^\prime}
      \arrow["i", hook, from=1-2, to=2-3]
      \arrow["f", from=2-1, to=1-2]
      \arrow["g"', from=2-1, to=3-2]
      \arrow["j"', hook, from=3-2, to=2-3]
    \end{tikzcd}
  \end{equation}
  commutes.
\end{definition}
Note that $\Hom_{\Kalg}(A,K)\xlongrightarrow{\ker}\Max(A)$ ($K$-algebra homomorphisms send $K$ to $K$, since the unit is preserved). In contrast, we have that $\Hom_{\Kalg}(A,L)\xlongrightarrow{\ker}\Spec(A)\coloneqq \cbr{\text{prime ideals of }A}$ (images of maps in $\Hom_{\Kalg}(A,L)$ are domains). So the set of geometric points of $A$ generally captures more information than just the set of rational points of $A$. We parameterized the rational points of $A$ via maximal ideals, and we seek to parameterize the set of geometric points of $A$ via prime ideals of $A$.
\begin{theorem}\label{thm: spec and geometric points}
  The sets $\Spec(A)$ and the set of geometric points of $A$ are in one-to-one correspondence.
\end{theorem}
Indeed, map a prime ideal $\mathfrak p\subset A$ to the composite map $A\to A/\mathfrak p \hookrightarrow \Frac(A/\mathfrak p)$. An inverse is given by sending a map $A\to L$ to its kernel, which is well defined. If $f\colon A\to L$ is equivalent to $g\colon A\to L^\prime$, there is a field $F$ containing both $L,L^\prime$ with $if = jg$ as in \cref{eq: geometric points equivalence}. Then $\ker f = \ker if = \ker jg = \ker g$. Indeed, these maps are inverse to each other in both ways. A prime ideal $\mathfrak p$ is sent to $A\to A/\mathfrak p \hookrightarrow \Frac(A/\mathfrak p)$, whose kernel is indeed $\mathfrak p$. Conversely, given $f\colon A\to L$, write this map as the composite $A\to \im f\eqqcolon R\hookrightarrow \Frac(R) \hookrightarrow L$, so that $\ker f$ is mapped to $A\to \Frac(A/\ker f) = \Frac(R)\hookrightarrow L$. The equality $\Frac(A/\ker f) = \Frac(R)$ holds since $\Frac R$ is the smallest field containing $R$.

It is crucial that we allowed non-finite extensions of $K$ in the definition of the set of geometric points of a $K$-algebra $A$ in order to recover all the prime ideals of $A$. If $K$ is algebraically closed and we consider only finitely generated $K$-algebras, then $\Hom_{\Kalg}(A,K) = \Max(A)$. Furthermore, there are no finite extensions of $K$ aside from itself. Typically, $\Spec(A)$ is strictly larger than $\Max(A)$. Therefore, in order to capture the prime ideals of $A$, we need to also consider maps $A\to L$ for $L$ a non-finite extension of $K$.

For example, if we want to recover the zero ideal in $\mathbb C[t]$, we take the kernel of the map $\mathbb C[t]\hookrightarrow \Frac(\mathbb C[t]/0) = \Frac(\mathbb C[t]) = \mathbb C(t)$.

For any ring $R$, we can define the set of geometric points of $R$ to be $\big(\bigcup_{L \text{ a field}}\Hom_{\Ring}(R,L)\big)/\!\sim$ where $\sim$ is defined like before. Like \cref{thm: spec and geometric points}, we have that $\Spec(R)\coloneqq\cbr{\text{prime ideals of }R}$ is in one-to-one correspondence with the set of geometric points of $R$. \sai{fill out these details} 

In particular, $\Spec\colon \Ring\to \Set$ is a functor given by
\begin{equation}
  \begin{tikzcd}[ampersand replacement=\&]
    R \& {\cbr{\text{prime ideals of }R}\eqqcolon \Spec(A)} \&\& A \& {\Spec(A)} \\
    \&\&\& B \& {\Spec(B)}
    \arrow[maps to, from=1-1, to=1-2]
    \arrow[""{name=0, anchor=center, inner sep=0}, "f", from=1-4, to=2-4]
    \arrow[""{name=1, anchor=center, inner sep=0}, "{f^{-1}}"', from=2-5, to=1-5]
    \arrow[shorten <=12pt, shorten >=12pt, maps to, from=0, to=1]
  \end{tikzcd}
\end{equation}
is a functor, since preimages of prime ideals under ring homomorphisms are prime ideals. We call $\Spec(R)$ the spectrum of $R$. The spectrum of a field consists of only the zero ideal. There exist rings for which their spectrum consists of one prime ideal, but are not fields; for example, consider $\mathbb C[t]/\abr{t^n}$ for $n\geq 2$ (it is fruitful to view $\mathbb C[t]/\abr{t^n}$ as a graded ring), or $\mathbb Z/4\mathbb Z$.
\newpage\section{09/09}
\begin{definition}
  Let $R$ be a ring. We topologize the set \bidx{$\Spec(R)$}$\coloneqq \cbr{\text{prime ideals of }R}$ by closed sets 
  \begin{equation}
    V(I)\coloneqq \cbr{\mathfrak p\in \Spec(R)\mid I\subseteq \mathfrak p}.
  \end{equation} 
  This topology is called the \bidx{Zariski topology} on $\Spec(R)$.
\end{definition}
(From now on, we will generally suppress parentheses and other repetitive notation wherever reasonable; for example we will usually write $\Spec R$ instead of $\Spec(R)$.)

We check that choosing the closed sets this way defines a topology. Indeed, $V(0) = \Spec(R)$, $V(1) = \emptyset$, and $\bigcap_{i\in I}V(I_i) = \cbr{\mathfrak p \mid I_i\subseteq \mathfrak p} = V(\bigcup_{i\in I}I_i)$. It remains to show that the union of two closed sets is closed. Observe that $V(IJ) = \cbr{\mathfrak p\mid IJ\subseteq \mathfrak p}$ contains both $V(I)$ and $V(J)$ since $IJ$ contains $I$ and $J$; this implies that $V(IJ)\supseteq V(I)\cup V(J)$. On the other hand, if $IJ\subseteq\mathfrak p$, and we assume $I\not\subseteq \mathfrak p$, then there exists $x\in I$ such that $x\not\in\mathfrak p$. However, $yx\in \mathfrak p$ for every $y\in J$, from which we deduce that $y\in\mathfrak p$ for every $y\in J$; that is $J\subseteq \mathfrak p$. Thus $V(I)\cup V(J)\subseteq V(IJ)$, and so $V(I)\cup V(J)= V(IJ)$.

Observe that $A\subseteq B$ implies that $V(B)\subseteq V(A)$, but the converse does not hold. For example, choose $A = \abr{3}$ and $B = \abr{9}$ in $\mathbb Z$. We have $V(B) = \cbr{\abr{3}} = V(A)$, even though $B\not\subseteq A$. (This may be a hint that we should consider radical ideals.)

We consider some examples.

Consider $\Spec \mathbb Z = \cbr{\abr{p}\mid p\text{ prime}}\cup\cbr{\abr{0}}$. The closed subsets of $\Spec \mathbb Z$ are given by $V(I)$ for ideals $I$. Since $\mathbb Z$ is a Euclidean domain, it is a principal ideal domain, so $I = \abr{d} = \abr{p_1^{e_1}\cdots p_r^{e_r}}$ for an integer $d$ with prime factorization $p_1^{e_1}\cdots p_r^{e_r}$. Thus $V(I) = \cbr{\abr{p_1},\dots,\abr{p_r}}$. Note that $V(\abr{0}) = \Spec \mathbb Z$ since every prime ideal contains the zero ideal. \sai{insert picture of points and fuzzy generic zero point}
It follows that $\Spec \mathbb Z$ is not Hausdorff, and this is typical of the Zariski topology. We have that $\Spec R$ is Hausdorff if and only if every element of $\Spec R$ is a maximal ideal; that is, $\Spec R = \Max R$.

Consider $\Spec \mathbb C[[t]] = \cbr{\abr{0},\abr{t}}$ (here $\mathbb C[[t]]$ is the ring of formal power series in $t$ with coefficients in $\mathbb C$; a useful fact to know is that a formal power series is invertible if and only if its constant term is a unit). Since $\cbr{\abr{t}}$ is closed, $\cbr{\abr{0}}$ is open.

View $V(-)$ as a map
\begin{equation}
  V\colon \cbr{\text{ideals of }R}\to \cbr{\text{closed subsets of }\Spec R}\quad\text{given by}\quad I\mapsto \cbr{\mathfrak p\mid I\subseteq \mathfrak p} = V(I).
\end{equation}
As observed earlier, note that $V$ is an inclusion-reversing map; that is $I\subseteq J$ implies $V(J)\subseteq V(J)$, and that the converse is not true. We would like to define a map ``in the other direction'', so we define a map
\begin{equation}
  I\colon \cbr{\text{subsets of }\Spec R}\to \cbr{\text{ideals of R}}\quad\text{given by}\quad S\mapsto \bigcap_{\mathfrak p\in S}\mathfrak p = I(S).
\end{equation}
Let $J$ be an ideal of $R$ and let $S$ be a subset of $\Spec R$. Then
\begin{align}
  I(V(J)) &= I(\cbr{\mathfrak p\mid J\subseteq \mathfrak p}) = \bigcap_{I\subseteq \mathfrak p}\mathfrak p = \rad J \coloneqq \cbr{f\in R\mid f^n\in J\text{ for some $n\in \mathbb N$}}\text{ and}\\
  V(I(S)) &= V\bigg(\bigcap_{\mathfrak q\in S}\mathfrak q\bigg) = \bigg\{\mathfrak p~\bigg\vert\, \bigcap_{\mathfrak q\in S}\mathfrak q\subseteq \mathfrak p\bigg\} = \overline S,
\end{align}
from which it follows that $V$ and $I$ mutually inverse bijections:
\begin{equation}
  V\colon \cbr{\text{radical ideals of }R}\longleftrightarrow \cbr{\text{closed subsets of }\Spec R}\colon I.
\end{equation}
Note that $Y\subseteq V(J)$ if and only if $J\subseteq I(Y)$. \sai{i have a very specific picture in mind for this involving V closing upwards and I taking intersections to find a ``deeper point''}

Some terminology:
\begin{definition}
  Let $X$ be a topological space. A point $\eta\in X$ is called a \bidx{generic point} of $X$ if $\overline{\cbr{\eta}} = X$. For $x,y\in X$, we say that $x$ is a \bidx{generization} of $y$ (or that $y$ is a \bidx{specialization} of $x$) if $y\in \overline{\cbr{x}}$.
\end{definition}
Therefore $\eta\in\Spec R$ is generic if and only if $\eta$ is a generization of every point in $\Spec R$. A point $\eta\in\Spec R$ is generic if and only if $\eta$ is the unique minimal prime ideal, which only exists if the nilradical of $R$ is a prime ideal. On the other hand, closed points of $\Spec R$ are the maximal ideals of $R$.
(A point $x$ in a topological space $X$ is closed if $\cbr{x}$ is closed.)
\begin{definition}
  A topological space $X$ is \bidx{irreducible} if $X$ cannot be written as the union of two non-empty closed subsets; equivalently, if the intersection of any two non-empty open sets is not empty.
\end{definition}
If $X$ is irreducible, then $X$ is connected (that is, $X$ cannot be expressed as the disjoint union of two non-empty closed sets). Also note that the closure of an irreducible set is irreducible.

We prove that that $Y\subseteq \Spec R$ is irreducible if and only if $I(Y)$ is a prime ideal (in which case $\overline{\cbr{I(Y)}} = \overline Y$). In this case, $I(Y)$ is a generic point of $Y$. 
Let $Y$ be irreducible and let $f,g\in R$ such that $fg\in I(Y)$. Then $Y\subseteq V(fg) = V(f)\cup V(g)$. With $Y$ irreducible, we must have that either $Y$ is contained in $V(f)$ or in $V(g)$; that is, either $f\in I(Y)$ or $g\in I(Y)$. Thus $I(Y)$ is a prime ideal. Conversely, suppose that $I(Y)$ is a prime ideal so that $Y\subseteq \overline Y = \overline{\cbr{I(Y)}}$. The subset $\cbr{I(Y)}$ is irreducible, and since the closure of irreducible spaces is irreducible, $\overline{Y}= \overline{\cbr{I(Y)}}$ is irreducible as well. What remains is to show that dense subsets of irreducible spaces are irreducible. For open sets $U,V$ in $Y$, they are also open in $\overline{Y}$ and hence have nontrivial intersection as needed. Thus $Y$ is irreducible.

For example, $\Spec R$ is irreducible if the nilradical of $R$ is a prime ideal (in this case, the nilradical of $R$ is the generic point of $\Spec R$). \sai{im sure theres a good way to visualize this via the above red idea, and i should also talk about reducible spaces and minimal primes somehow}. Consider also the ring $\mathbb C\oplus \mathbb C$. There are no minimal primes in $\Spec(\mathbb C\oplus \mathbb C)$, meaning this space is not irreducible.

Consider $\Spec \mathbb C[x,y]$, which we interpret as a plane of some sort and call $\mathbb A^2$. Typically we think of the ideals $\mathfrak m = \abr{x-1,y}$ and $\mathfrak p = \abr{y}$ being associated to a point and a line with the point being contained in the line as in the (real-valued, since visualizing $\mathbb A^2$ is difficult) picture \sai{picture pls}, but this is not the case. In our setting, the picture really should represent $\mathfrak p\subset \mathfrak m$, where $\mathfrak p$ is a generization of $\mathfrak m$. The point $\abr{x}$ (which looks like a line, amusingly) is not closed in $\mathbb A^2$ since there is no ideal $I$ with $V(I) = \cbr{\abr{x}}$; and in fact, if $I\subseteq \abr{x}$, then $I\subseteq \abr{x,y-\alpha}$ for any $\alpha\in \mathbb C$.

We can even consider curves. Take the ideal $\abr{y^2-x^2(x+1)}$, which produces the curve below. But taking $V(-)$ (i.e., the closure) of this point in $\mathbb A^2$ will fill in the curve with all of the ``points'' coming from the maximal ideals $\abr{y^2-x^2(x+1)}$ is contained in. A similar phenomenon happens for $\abr{y}$.

Now we view $\Spec$ as a functor $\Ring \to \Top$ defined in exactly the same way as before, but we give $\Spec(R)$ for any ring $R$ the Zariski topology:
\begin{equation}
  \begin{tikzcd}[ampersand replacement=\&]
    R \& {\cbr{\text{prime ideals of }R}\eqqcolon \Spec(A)} \&\& A \& {\Spec(A)} \\
    \&\&\& B \& {\Spec(B)}
    \arrow[maps to, from=1-1, to=1-2]
    \arrow[""{name=0, anchor=center, inner sep=0}, "f", from=1-4, to=2-4]
    \arrow[""{name=1, anchor=center, inner sep=0}, "{f^{-1}}"', from=2-5, to=1-5]
    \arrow[shorten <=12pt, shorten >=12pt, maps to, from=0, to=1]
  \end{tikzcd}
\end{equation}
It remains to check that given a ring homomorphism $f\colon A\to B$, that preimages of closed subsets of $\Spec B$ under the preimage map $f^{-1}\colon \Spec B\to\Spec A$ (this is \textit{not} by taking preimages of closed subsets of $\Spec B$ under $f$) are closed in $\Spec A$; that is, $f^{-1}$ is a continuous map.
Let $I\subseteq A$ be an ideal and consider the closed subset $V(I)\subseteq\Spec A$. Then
\begin{multline}
  (f^{-1})^{-1}(V(I)) = \cbr{\mathfrak p\in\Spec B\mid f^{-1}(\mathfrak p)\in V(I)} = \cbr{\mathfrak p\in \Spec B\mid I\subseteq f^{-1}(\mathfrak p)}\\ \eq{\smallmathhappy} \cbr{\mathfrak p\in\Spec B\mid f(I)\subseteq \mathfrak p} = V(f(I)),
\end{multline}
where equality $(\mathhappy)$ is established since taking images and inverse images preserves containment: Let $\mathfrak q$ be a point in $\Spec B$. If $I\subseteq f^{-1}(\mathfrak q)$, then by taking images under $f$ we have $f(I)\subseteq ff^{-1}(\mathfrak q) \subseteq \mathfrak q$. Similarly, if $f(I)\subseteq \mathfrak q$, taking inverse images yields $I\subseteq f^{-1}f(I)\subseteq f^{-1}(\mathfrak q)$ as needed.

Thus every map of rings $A\to B$ yields a map of topological spaces $\Spec B\to\Spec A$, but it is not true that every continuous map $\Spec B\to\Spec A$ is obtained from a ring map $A\to B$. For example, there is no nontrivial map of rings $\mathbb C\to\mathbb Q$ (since maps of fields are either injective or zero), but there are maps from $\Spec \mathbb C \cong \ast \to\Spec \mathbb Q \cong \ast$ (where $\ast$ is the terminal object in $\Top$, the one-point space). The conclusion is that $\Top$ is not rich enough to mirror $\Ring$.

The quest for the so-called ``Algebraic Geometry'' continues.

\newpage\section{09/11}
\begin{definition}
    Let $X$ be a topological space. The category \bidx{$\Ouv(X)$} the partially ordered set of open subsets of $X$ ordered by inclusion. That is, the objects in $\Ouv(X)$ are the open subsets of $X$ and the morphisms in $\Ouv(X)$ are the inclusion maps.
\end{definition}
If $\cbr{U_i}$ is an open cover of $U\in \Ouv(X)$, then we write $U_{ij}\coloneqq U_i\cap U_j$.

We would like to enrich the category $\Top$ to form a category which mirrors $\Ring$; that is, we would like morphisms in this new category to come from ring homomorphisms, which we saw does not happen if we use the functor $\Spec\colon\Ring \to\Top$. To this end, we need some sheaf theory.
\begin{definition}
    A \bidx{presheaf} of sets is a contravariant functor $\mathscr F\colon \Ouv(X)\to\Set$
    \begin{equation}
        \begin{tikzcd}
        	U & {\mathscr FU} && U & {\mathscr FU} \\
        	&&& V & {\mathscr FV}
        	\arrow[maps to, from=1-1, to=1-2]
        	\arrow[""{name=0, anchor=center, inner sep=0}, hook', from=1-4, to=2-4]
        	\arrow[""{name=1, anchor=center, inner sep=0}, "{\res^V_U}"', from=2-5, to=1-5]
        	\arrow[shorten <=6pt, shorten >=6pt, maps to, from=0, to=1]
        \end{tikzcd}
    \end{equation}
    where elements of $\mathscr FV$ are called ``sections`` of $\mathscr F$ over $V$, and $s|_U\coloneqq \res^V_U(s)$ is called the restriction of $s\in \mathscr FV$ to $U$. 

    A presheaf of groups/rings/$R$-modules/$K$-vector spaces/etc. is defined in the same way as above but with $\Set$ replaced by the appropriate category.
\end{definition}
For $U,V,W\in \Ouv(X)$, note that $\res^V_U\circ \res^W_V = \res^W_U$ and that $\res^U_U$ is the identity map (since it comes from the identity map $U\to U$).
A morphism of presheaves $\mathscr F\to\mathscr G$ is a natural transformation (as we saw before with $\Spec$).
A presheaf is called a sheaf if ``you can uniquely recover global sections from local sections that glue''. See \href{https://www.quantamagazine.org/what-are-sheaves-20240719/}{the Quanta article on sheaves}.
\begin{definition}
    A \bidx{sheaf} is a presheaf $\mathscr F$ satisfying
    \begin{enumerate}
        \item (Separatedness) for any $U\in \Ouv(X)$, for any open cover $\cbr{U_i}$ of $U$, and $s_1,s_2\in \mathscr U$, if $s_1|_{U_i} =s_2|_{U_i}$ for all $i$, then $s_1 = s_2$, and
        \item (Gluing) for any $U\in\Ouv(X)$ and for any open cover $\cbr{U_i}$ of $U$, if $s_i\in \mathscr FU_i$ satisfy $s_i|_{U_{ij}} = s_j|_{U_{ij}}$ for all $i,j$, then there exists $\in \mathscr FU$ with $s_i = s|_{U_i}$ (and by the previous condition $s$ is unique). \qedhere
    \end{enumerate}
\end{definition}
Taking the contrapositive of the first condition above explains why it is called the ``separatedness'' condition.
As a remark, the two conditions above imply that $\mathscr F\emptyset$ is the terminal object in the target category of $\mathscr F$. This follows since the empty set has only the empty covering (that is, the indexing set for the open cover is the empty set).
Morphisms of sheaves are natural transformations. So for a topological space $X$, we obtain the categories $\Psh(X)$ of presheaves on $X$ and $\Sh(X)$ of sheaves on $X$, where $\Sh(X)$ is a subcategory of $\Psh(X)$.

For example, let $X = \cbr{\ast}$ be the one point space, so that $\Ouv(X) = \cbr{\emptyset, X}$. A presheaf $\mathscr F$ of sets on $X$ is determined by where $\mathscr F$ sends $\emptyset$ and $X$. They can take on any two sets, but since the empty set includes into $X$, we must have a map $\mathscr FX\to\mathscr F\emptyset$. A morphism of presheaves $\varphi\colon\mathscr F\to\mathscr G$ is a natural transformation $\varphi = \cbr{\varphi_\emptyset, \varphi_X}\colon \mathscr F\Rightarrow \mathscr G$ such that the diagram 
\begin{equation}
  \begin{tikzcd}[ampersand replacement=\&]
    {\mathscr F\emptyset} \& {\mathscr G\emptyset} \\
    {\mathscr FX} \& {\mathscr GX}
    \arrow["{\varphi_\emptyset}", from=1-1, to=1-2]
    \arrow[from=2-1, to=1-1]
    \arrow["{\varphi_X}", from=2-1, to=2-2]
    \arrow[from=2-2, to=1-2]
  \end{tikzcd} \quad\text{commutes.}
\end{equation}
If $\mathscr F$ is a sheaf, then the empty set must go to $\cbr{\ast}$, the terminal object in $\Set$. It follows that the map $\mathscr FX \to \mathscr F\emptyset$ is unique, from which it follows that $\Sh(X)$ is naturally isomorphic to $\Set$.

There is a way to ``make'' a presheaf into a sheaf.
\begin{proposition}[Sheafification \cite{gw}*{Proposition 2.24}]
  For any presheaf $\mathscr F$ on a topological space $X$, there exists a pair $(\tilde{\mathscr F}, \iota_{\mathscr F})$ where $\tilde{\mathscr F}$ is a sheaf on $X$ and $\iota_{\mathscr F}\colon \mathscr F\to\tilde{\mathscr F}$ is a morphism of presheaves (i.e. a natural transformation), satisfying the following universal property: If $\mathscr G$ is a sheaf on $X$ and $\varphi\colon\mathscr F\to G$ is a morphism of presheaves, then there exists a unique morphism of sheaves $\tilde{\varphi}\colon\tilde{\mathscr F}\to \mathscr G$ such that the diagram
  \begin{equation}
    \begin{tikzcd}[ampersand replacement=\&]
      {\mathscr F} \& {\mathscr G} \\
      {\tilde{\mathscr F}}
      \arrow["\varphi", from=1-1, to=1-2]
      \arrow["{\iota_{\mathscr F}}"', from=1-1, to=2-1]
      \arrow["{\tilde{\varphi}}"', dashed, from=2-1, to=1-2]
    \end{tikzcd}\quad\text{commutes \textup{(}viewing $\tilde{\varphi}$ in this diagram as a map of presheaves\textup{)}.}
  \end{equation}
  This implies that the pair $(\tilde{\mathscr F},\iota_{\mathscr F})$ is unique up to unique isomorphism.
\end{proposition}
\sai{transcribe part of the right proof here another time}

\newpage\section{09/13}
Consider presheaves valued in Ab or Ring. We can rephrase the axioms for a sheaf $F$ in the following way.
\begin{enumerate}[label=(\arabic*)]
    \item (Separatedness)
    \item (Gluing)
\end{enumerate}

\newpage
\printindex\newpage
\begin{bibdiv}
\begin{biblist}

\bib{gw}{book}{
    title = {Algebraic Geometry I: Schemes},
    author = {G\"ortz, Ulrich},
    author = {Wedhorn, Torsten},
    isbn = {978-3-658-30732-5},
    series = {Springer Studium Mathematik - Master},
    year = {2020},
    publisher = {Springer Spektrum Wiesbaden}
}

\bib{h}{book}{
    title = {Algebraic Geometry},
    author = {Hartshorne, Robin},
    isbn = {978-0-387-90244-9},
    series = {Graduate Texts in Mathematics},
    year = {1977},
    publisher = {Springer New York, NY}
}

\end{biblist}
\end{bibdiv}
\end{document}