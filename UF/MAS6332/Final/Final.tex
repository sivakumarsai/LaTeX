\documentclass[11pt]{article}
\headheight=13.6pt
% packages
\usepackage{physics}
% margin spacing
\usepackage[top=1in, bottom=1in, left=0.5in, right=0.5in]{geometry}
\usepackage{hanging}
\usepackage{amsfonts, amsmath, amssymb, amsthm}
\usepackage{systeme}
\usepackage[none]{hyphenat}
\usepackage{fancyhdr}
\usepackage[nottoc, notlot, notlof]{tocbibind}
\usepackage{graphicx}
\graphicspath{{./images/}}
\usepackage{float}
\usepackage{siunitx}
\usepackage{esint}
\usepackage{cancel}
\usepackage{enumitem}
\usepackage{quiver}

% permutations (second line is for spacing)
\usepackage{permute}
\renewcommand*\pmtseparator{\,}

% colors
\usepackage{xcolor}
\definecolor{p}{HTML}{FFDDDD}
\definecolor{g}{HTML}{D9FFDF}
\definecolor{y}{HTML}{FFFFCF}
\definecolor{b}{HTML}{D9FFFF}
\definecolor{o}{HTML}{FADECB}
%\definecolor{}{HTML}{}

% \highlight[<color>]{<stuff>}
\newcommand{\highlight}[2][p]{\mathchoice%
  {\colorbox{#1}{$\displaystyle#2$}}%
  {\colorbox{#1}{$\textstyle#2$}}%
  {\colorbox{#1}{$\scriptstyle#2$}}%
  {\colorbox{#1}{$\scriptscriptstyle#2$}}}%

% header/footer formatting
\pagestyle{fancy}
\fancyhead{}
\fancyfoot{}
\fancyhead[L]{MAS6332 Algebra}
\fancyhead[C]{Final}
\fancyhead[R]{Sai Sivakumar}
\fancyfoot[R]{\thepage}
\renewcommand{\headrulewidth}{1pt}

% paragraph indentation/spacing
\setlength{\parindent}{0cm}
\setlength{\parskip}{10pt}
\renewcommand{\baselinestretch}{1.25}

% extra commands defined here
\newcommand{\br}[1]{\left(#1\right)}
\newcommand{\sbr}[1]{\left[#1\right]}
\newcommand{\cbr}[1]{\left\{#1\right\}}

\newcommand{\dprime}{\prime\prime}

% bracket notation for inner product
\usepackage{mathtools}

\DeclarePairedDelimiterX{\abr}[1]{\langle}{\rangle}{#1}

\DeclareMathOperator{\Span}{span}
\DeclareMathOperator{\nullity}{nullity}
\DeclareMathOperator\Aut{Aut}
\DeclareMathOperator\Inn{Inn}
\DeclareMathOperator{\Orb}{Orb}
\DeclareMathOperator{\lcm}{lcm}
\DeclareMathOperator{\Hol}{Hol}
\DeclareMathOperator{\Jac}{Jac}
\DeclareMathOperator{\rad}{rad}
\DeclareMathOperator{\Tor}{Tor}
\DeclareMathOperator{\End}{End}
\DeclareMathOperator{\Gal}{Gal}
\DeclareMathOperator{\Nat}{Nat}
\DeclareMathOperator{\Frac}{Frac}
\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\Ext}{Ext}
\DeclareMathOperator{\aug}{aug}

% set page count index to begin from 1
\setcounter{page}{1}

\begin{document}
\subsection*{Localizations of Projective Modules 1}
\begin{enumerate}[label=(\alph*)]
  \item We show first that the localization of a free module is a free module. In the case that $0\in D$, then $D^{-1}R$ is the trivial ring and so the localization is the zero module, since the tensor product with the zero ring is the zero module (which is free). So assume $0\not\in D$.
  
  Let $F$ be the free $R$-module with $R$-basis $A$. Then $D^{-1}F$ satisfies the universal property of free modules with $A$ as a $D^{-1}R$-basis:

  Let $M$ be any $D^{-1}R$-module and let $\varphi\colon A\to M$ be any set map. Then let $\iota\colon A\to D^{-1}F$ be the set map taking $a$ to $a/1$. This map is an injection: if $a_1/1=a_2/1$ with $a_1\neq a_2$, then there exists $y\in D$ with $y(a_1-a_2)=0$, which is impossible since $F$ is free. 

  Then define $\Phi\colon D^{-1}F\to M$ by $\Phi(a/d) = \varphi(a)/d$ for $a\in A$, and extend linearly to make $\Phi$ a $D^{-1}R$-module homomorphism. We check that $\Phi$ is well defined: if $f/d = g/e$ with $f = \sum_i f_i a_i$ and $g = \sum_j g_j a_j$, then there is $y\in D$ such that $y(e\sum_i f_ia_i - d\sum_jg_ja_j)=0$. But $M$ is also an $R$-module by the action $rm = (r/1)m$ (as $\pi\colon R\to D^{-1}R$ taking $r$ to $r/1$ is a ring homomorphism). As $F$ is a free $R$-module, there is a unique $R$-module homomorphism $\tilde \Phi\colon F\to M$ such that for $a\in A$, $\tilde \Phi(a) = \varphi(a)$ (by the universal property of free modules and identifying $A\subseteq F$). It follows then that $\tilde \Phi(y(e\sum_i f_ia_i - d\sum_jg_ja_j)) = y(e\sum_i f_i\varphi(a_i) - d\sum_jg_j\varphi(a_j))=0$, from which it follows that $\Phi(f/d) = [\sum_i f_i \varphi(a_i)]/d = [\sum_j g_j \varphi(a_j)]/e = \Phi(g/e)$.

  We have that $\Phi\iota = \varphi$, and we check that $\Phi$ is unique: If there was $\Theta\colon D^{-1}F\to M$ such that $\Theta\iota = \varphi$, then we have by linearity that for any $f/d = [\sum_i f_i a_i]/d \in D^{-1}F$, that $\Theta(f/d) = [\sum_i f_i \varphi(a_i)]/d = \Phi(f/d)$. Hence $\Phi = \Theta$ as needed.

  Thus $D^{-1}F$ is the free $D^{-1}R$-module on $A$.

  If $M$ is a projective $R$-module, it is a direct summand of some free $R$-module $F$; that is, $F \cong M\oplus N$. Then by localizing (and using the fact that localization distributes over direct sums), we have that $D^{-1}F \cong D^{-1}M\oplus D^{-1}N$, and as $D^{-1}F$ is free, it follows that $D^{-1}M$ is projective.
\end{enumerate}

\subsection*{Localization and $\Ext$}
\begin{enumerate}[label=(\alph*)]
  \item A natural map $\psi\colon D^{-1}\Hom_R(M,N)\to \Hom_{D^{-1}R}(D^{-1}M,D^{-1}N)$ is given by $\psi(f/w) = (1/w)D^{-1}f$, where $D^{-1}f(m/d) = f(m)/d$. We check that this map is well defined and is an $D^{-1}R$-module homomorphism.
  
  Suppose that $f/w = g/v$ so that there is $y\in D$ such that $y(vf-wg)=0$. Then let $m/d$ be any element of $D^{-1}M$. We have $y(vf(m)-wg(m))=0$, so that $f(m)/w = g(m)/v$. Then $(1/w)D^{-1}f(m/d) = f(m)/wd = g(m)/vd = (1/v)D^{-1}g(m/d)$. Since $m/d$ was arbitrary, it follows that $(1/w)D^{-1}f = (1/v)D^{-1}g$.

  We have \begin{multline*}
    \psi(rf/dw + g/v) = (1/dwv)D^{-1}(vrf+dwg) = (vr/dwv)D^{-1}(f) + (dw/dwv)D^{-1}(g) \\ = (r/d)(1/w)D^{-1}f + (1/v)D^{-1}g = (r/d)\psi(f/w) + \psi(g/v)
  \end{multline*} so $\psi$ is a $D^{-1}R$-module homomorphism.

  Now let $M$ be finitely generated, by $\cbr{m_1,\dots,m_n}$. We show that $\psi$ is injective. Suppose that $\psi(f/w) = (1/w)D^{-1}f = 0$ so that $(1/w)D^{-1}f(m_i/1) = f(m_i)/w = 0$ for each $i$. Hence there exists $y_i\in D$ such that $y_if(m_i) = 0$ for each $i$. Now let $m = \sum_i r_im_i$ be any element of $M$, and note that $\prod_j y_j\in D$. Then $(\prod_j y_j)f(m) = \sum_i r_i(\prod_j y_j)f(m_i) = 0$ since in each summand $r_i(\prod_j y_j)f(m_i)$, the factor $y_if(m_i) = 0$ appears. It follows that $(\prod_j y_j)f = 0$, so that $f/w = 0$ and so $\psi$ is injective.

  Since $M$ is finitely generated and $R$ is Noetherian, there is an exact sequence $R^m\xrightarrow{\phi} R^n\xrightarrow{\pi} M\to 0$ (the remark). We obtain two exact sequences by applying the contravariant $\Hom$ functor and localization in different ways. 

  Applying the $\Hom_R(-,N)$ functor first we obtain the exact sequence $0\to \Hom_R(M,N)\xrightarrow{\pi^\prime}N^n\xrightarrow{\phi^\prime} N^m$. (The resulting sequence is exact since we are not starting out with a short exact sequence but rather just a four term exact sequence ending in $0$, see end of Theorem 33 in 10.5) Then localize the sequence (and note localization is exact) to obtain \[0\to D^{-1}\Hom_R(M,N)\xrightarrow{D^{-1}\pi^\prime}(D^{-1}N)^n\xrightarrow{D^{-1}\phi^\prime} (D^{-1}N)^m.\] Let $f/w\in D^{-1}\Hom_R(M,N)$, noting that $f\colon M\to N$. Then by tracing through several induced maps and isomorphisms we have that the map $D^{-1}\pi^\prime$ is given by the composite taking \begin{multline*}
    f/w\mapsto f\pi/w\mapsto (f\pi|_1,\dots,f\pi|_n)/w\mapsto (f\pi(1,0,\dots,0),\dots,f\pi(0,\dots,0,1))/w \\\mapsto (f\pi(1,0,\dots,0)/w,\dots,f\pi(0,\dots,0,1)/w)
  \end{multline*} [with $\pi|_i$ is the map taking $(r_1,\dots,r_n)$ to $\pi(0,\dots,r_i,\dots,0)$].

  Instead if we apply localization first we obtain the exact sequence $(D^{-1}R)^m\xrightarrow{D^{-1}\phi} (D^{-1}R)^n\xrightarrow{D^{-1}\pi} D^{-1}M\to 0$. Then applying $\Hom_{D^{-1}R}(-,D^{-1}N)$ we obtain the exact sequence \[0\to \Hom_{D^{-1}R}(D^{-1}M,D^{-1}N)\xrightarrow{(D^{-1}\pi)^\prime}(D^{-1}N)^n\xrightarrow{(D^{-1}\phi)^\prime} (D^{-1}N)^m.\] Again by tracing through induced maps and isomorphisms we have for $g\colon D^{-1}M\to D^{-1}N$ that $(D^{-1}\pi)^\prime$ is given by the composite \begin{multline*}
    g\mapsto g\circ D^{-1}\pi\mapsto (g\circ D^{-1}\pi)^\dagger\mapsto ((g\circ D^{-1}\pi)^\dagger\circ \iota_1,\dots,(g\circ D^{-1}\pi)^\dagger\circ \iota_n)\\ \mapsto (g(\pi(1,0,\dots,0)/1),\dots,g(\pi(0,\dots,0,1)/1))
  \end{multline*} [with $(g\circ D^{-1}\pi)^\dagger$ the map taking $(r_1/d_1,\dots,r_n/d_n)$ to $(g\circ D^{-1}\pi)((r_1d_2\cdots d_n, \dots, d_1\cdots d_{n-1}r_n)/(d_1\cdots d_n))$ and $\iota_i$ taking $r/d$ to $(0,\dots,\underbrace{r/d}_{\text{position }i},\dots,0)$.] In the case that $g = \psi(f/w) = (1/w)D^{-1}f, $ we have that \begin{multline*}
    [(D^{-1}\pi)^\prime\circ \psi](f/w) = (D^{-1}\pi)^\prime((1/w)D^{-1}f) \\= ((1/w)D^{-1}f(\pi(1,0,\dots,0)/1),\dots,(1/w)D^{-1}f(\pi(0,\dots,0,1)/1))\\ = (f\pi(1,0,\dots,0)/w,\dots,f\pi(0,\dots,0,1)/w) = (D^{-1}\pi^\prime)(f/w).
  \end{multline*}

  It follows that the middle square of the diagram below commutes (the left square commutes automatically): % https://q.uiver.app/?q=WzAsOCxbMCwwLCIwIl0sWzAsMSwiMCJdLFsxLDAsIkReey0xfVxcSG9tX1IoTSxOKSJdLFsyLDAsIihEXnstMX1OKV5uIl0sWzMsMCwiKEReey0xfU4pXm0iXSxbMywxLCIoRF57LTF9TilebSJdLFsyLDEsIihEXnstMX1OKV5uIl0sWzEsMSwiXFxIb21fe0Reey0xfVJ9KEReey0xfU0sRF57LTF9TikiXSxbMCwxLCJcXGlkIl0sWzIsMywiRF57LTF9XFxwaV5cXHByaW1lIl0sWzMsNF0sWzYsNV0sWzMsNiwiXFxpZCJdLFs0LDUsIlxcaWQiXSxbMCwyXSxbMSw3XSxbNyw2LCIoRF57LTF9XFxwaSleXFxwcmltZSJdLFsyLDcsIlxccHNpIl1d
  \begin{equation}
    \begin{tikzcd}
      0 & {D^{-1}\Hom_R(M,N)} & {(D^{-1}N)^n} & {(D^{-1}N)^m} \\
      0 & {\Hom_{D^{-1}R}(D^{-1}M,D^{-1}N)} & {(D^{-1}N)^n} & {(D^{-1}N)^m}
      \arrow["\id", from=1-1, to=2-1]
      \arrow["{D^{-1}\pi^\prime}", from=1-2, to=1-3]
      \arrow[from=1-3, to=1-4]
      \arrow[from=2-3, to=2-4]
      \arrow["\id", from=1-3, to=2-3]
      \arrow["\id", from=1-4, to=2-4]
      \arrow[from=1-1, to=1-2]
      \arrow[from=2-1, to=2-2]
      \arrow["{(D^{-1}\pi)^\prime}", from=2-2, to=2-3]
      \arrow["\psi", from=1-2, to=2-2]
    \end{tikzcd}
  \end{equation} To see that the right square commutes, observe that by peeling back the isomorphisms used to obtain the right square (in a similar manner to how we did for the middle square) we obtain the square % https://q.uiver.app/?q=WzAsNCxbMCwwLCJEXnstMX1cXEhvbV9SKFJebixOKSJdLFsxLDAsIkReey0xfVxcSG9tX1IoUl5tLE4pIl0sWzAsMSwiXFxIb21fe0Reey0xfVJ9KEReey0xfVJebixEXnstMX1OKSJdLFsxLDEsIlxcSG9tX3tEXnstMX1SfShEXnstMX1SXm0sRF57LTF9TikiXSxbMCwxLCJEXnstMX1cXHBoaV5cXHByaW1lIl0sWzIsMywiKEReey0xfVxccGhpKV5cXHByaW1lIl0sWzAsMiwiXFxQc2lfbiJdLFsxLDMsIlxcUHNpX20iXV0=
  \[\begin{tikzcd}
    {D^{-1}\Hom_R(R^n,N)} & {D^{-1}\Hom_R(R^m,N)} \\
    {\Hom_{D^{-1}R}(D^{-1}R^n,D^{-1}N)} & {\Hom_{D^{-1}R}(D^{-1}R^m,D^{-1}N)}
    \arrow["{D^{-1}\phi^\prime}", from=1-1, to=1-2]
    \arrow["{(D^{-1}\phi)^\prime}", from=2-1, to=2-2]
    \arrow["{\Psi_n}", from=1-1, to=2-1]
    \arrow["{\Psi_m}", from=1-2, to=2-2]
  \end{tikzcd}\] where the map $\Psi_n$ is similarly defined to $\psi$, mapping $f/w$ to $(1/w)D^{-1}f$. Similar definition for $\Psi_m$. Since $D^{-1}$ is a functor we have then that $\Psi_m\circ D^{-1}\phi^\prime (f/w) = (1/w)D^{-1}(f\phi) = (1/w)D^{-1}fD^{-1}\phi = (D^{-1}\phi)^\prime\circ \Phi_n (f/w)$. Thus the entire diagram (1) commutes.
  
  Since the identity maps are bijective, it follows that $\psi$ is surjective (this is from DF10.5.2, a previous homework problem from the fall).

  It follows that $\psi$ is an isomorphism.

  \item Since $M$ is finitely generated and $R$ is Noetherian, there is an exact sequence $R^m\xrightarrow{d_1} R^n\xrightarrow{\pi} M\to 0$. This exact sequence may be extended into a free resolution of $M$ via the manner described in Dummit and Foote: Find a free module $P_2$ which maps surjectively onto $\ker d_1\subseteq R^m$ and denote the composition of the surjection with the inclusion $\ker d_1\subseteq R^m$ by $d_2$, and $d_2$ is exact by construction. Note that because $R^m$ is finitely generated, $\ker d_1$ is also finitely generated (since $R$ is Noetherian, by the remark), so that we may choose $P_2$ to be a finitely generated free module. Continue inductively for each $n$ by finding a finitely generated free module $P_{n+1}$ which maps surjectively onto $\ker d_n\subseteq P_n$ and denote the resulting map $d_{n+1}$.
  
  Thus obtain a free resolution $\cdots\to P_n\xrightarrow{d_n}P_{n-1}\to\cdots\to P_2\xrightarrow{d_2}R^m\xrightarrow{d_1} R^n\xrightarrow{\pi} M\to 0$. Localize this resolution to obtain the exact sequence $\cdots\to D^{-1}P_n\xrightarrow{D^{-1}d_n}D^{-1}P_{n-1}\to\cdots\to D^{-1}P_2\xrightarrow{D^{-1}d_2}D^{-1}R^m\xrightarrow{D^{-1}d_1} D^{-1}R^n\xrightarrow{D^{-1}\pi} D^{-1}M\to 0$. We saw earlier that the localization of a free $R$-module is a free $D^{-1}R$-module, so we obtain a free resolution of $D^{-1}M$. Now apply $\Hom_{D^{-1}R}(-,D^{-1}N)$ to obtain the cochain complex \begin{multline*}
    0\to \Hom_{D^{-1}R}(D^{-1}M ,D^{-1}N)\xrightarrow{(D^{-1}\pi)^\prime}\Hom_{D^{-1}R}(D^{-1}R^n ,D^{-1}N)\xrightarrow{(D^{-1}d_1)^\prime}\Hom_{D^{-1}R}(D^{-1}R^m ,D^{-1}N)\\\xrightarrow{(D^{-1}d_2)^\prime}\Hom_{D^{-1}R}(D^{-1}P_2 ,D^{-1}N)\xrightarrow{(D^{-1}d_3)^\prime}\Hom_{D^{-1}R}(D^{-1}P_3 ,D^{-1}N)\to\cdots
  \end{multline*}

  We may obtain another cochain complex by applying the $\Hom_R(-,N)$ functor first to the resolution and then localizing to obtain the chain complex \begin{multline*}
    0\to D^{-1}\Hom_R(M ,N)\xrightarrow{D^{-1}\pi^\prime}\Hom_R(R^n ,N)\xrightarrow{D^{-1}d_1^\prime}\Hom_R(R^m ,N)\\\xrightarrow{D^{-1}d_2^\prime}\Hom_R(P_2 ,N)\xrightarrow{D^{-1}d_3^\prime}\Hom_R(P_3 ,N)\to\cdots
  \end{multline*}

  Let $\psi$ be the map defined in part (a), and note that for finitely generated modules $\psi$ is an isomorphism. Then the following diagram commutes (it is rather long so it is broken into pieces): % https://q.uiver.app/?q=WzAsMTQsWzAsMCwiMCJdLFsxLDAsIlxcSG9tX3tEXnstMX1SfShEXnstMX1NICxEXnstMX1OKSJdLFswLDEsIjAiXSxbMSwxLCJEXnstMX1cXEhvbV9SKE0gLE4pIl0sWzEsMiwiXFxIb21fe0Reey0xfVJ9KEReey0xfVJebSAsRF57LTF9TikiXSxbMiwyLCJcXEhvbV97RF57LTF9Un0oRF57LTF9UF8yICxEXnstMX1OKSJdLFsxLDMsIkReey0xfVxcSG9tX1IoUl5tICxOKSJdLFsyLDMsIkReey0xfVxcSG9tX1IoUF8yICxOKSJdLFswLDJdLFswLDNdLFszLDIsIlxcY2RvdHMiXSxbMywzLCJcXGNkb3RzIl0sWzIsMCwiXFxIb21fe0Reey0xfVJ9KEReey0xfVJebiAsRF57LTF9TikiXSxbMiwxLCJEXnstMX1cXEhvbV9SKFJebiAsTikiXSxbMiwzXSxbMywxLCJcXHBzaSIsMl0sWzQsNSwiKEReey0xfWRfMileXFxwcmltZSJdLFs2LDcsIkReey0xfWRfMl5cXHByaW1lIl0sWzcsNSwiXFxwc2kiLDJdLFs4LDQsIihEXnstMX1kXzEpXlxccHJpbWUiXSxbOSw2LCJEXnstMX1kXzFeXFxwcmltZSJdLFs2LDQsIlxccHNpIiwyXSxbNSwxMF0sWzcsMTFdLFszLDEzLCJEXnstMX1cXHBpXlxccHJpbWUiXSxbMCwxXSxbMSwxMiwiKEReey0xfVxccGkpXlxccHJpbWUiXSxbMTMsMTIsIlxccHNpIiwyXSxbMiwwXSxbMywxLCJcXGNvbmciXSxbMTMsMTIsIlxcY29uZyJdLFs2LDQsIlxcY29uZyJdLFs3LDUsIlxcY29uZyJdXQ==
  \begin{equation}
    \begin{tikzcd}
      0 & {\Hom_{D^{-1}R}(D^{-1}M ,D^{-1}N)} & {\Hom_{D^{-1}R}(D^{-1}R^n ,D^{-1}N)} \\
      0 & {D^{-1}\Hom_R(M ,N)} & {D^{-1}\Hom_R(R^n ,N)} \\
      {} & {\Hom_{D^{-1}R}(D^{-1}R^m ,D^{-1}N)} & {\Hom_{D^{-1}R}(D^{-1}P_2 ,D^{-1}N)} & \cdots \\
      {} & {D^{-1}\Hom_R(R^m ,N)} & {D^{-1}\Hom_R(P_2 ,N)} & \cdots
      \arrow[from=2-1, to=2-2]
      \arrow["\psi"', from=2-2, to=1-2]
      \arrow["{(D^{-1}d_2)^\prime}", from=3-2, to=3-3]
      \arrow["{D^{-1}d_2^\prime}", from=4-2, to=4-3]
      \arrow["\psi"', from=4-3, to=3-3]
      \arrow["{(D^{-1}d_1)^\prime}", from=3-1, to=3-2]
      \arrow["{D^{-1}d_1^\prime}", from=4-1, to=4-2]
      \arrow["\psi"', from=4-2, to=3-2]
      \arrow[from=3-3, to=3-4]
      \arrow[from=4-3, to=4-4]
      \arrow["{D^{-1}\pi^\prime}", from=2-2, to=2-3]
      \arrow[from=1-1, to=1-2]
      \arrow["{(D^{-1}\pi)^\prime}", from=1-2, to=1-3]
      \arrow["\psi"', from=2-3, to=1-3]
      \arrow[from=2-1, to=1-1]
      \arrow["\cong", from=2-2, to=1-2]
      \arrow["\cong", from=2-3, to=1-3]
      \arrow["\cong", from=4-2, to=3-2]
      \arrow["\cong", from=4-3, to=3-3]
    \end{tikzcd}
  \end{equation} The first square commutes. For any other square, we have the same argument starting from the bottom left corner and moving to the top right corner: \[\psi \circ D^{-1}d_i^\prime (f/w) = (1/w)D^{-1}(fd_i) = (1/w)D^{-1}fD^{-1}d_i = (D^{-1}d_i)^\prime\circ \psi (f/w). \] So $\psi$ in this case is a chain map, and chain maps induce maps on cohomology (i.e. the $\Ext$ groups) Since $\psi$ is an isomorphism we obtain an isomorphism of cohomology groups: $\ker (D^{-1}d_i^\prime) \xrightarrow{\psi}\ker [(D^{-1}d_i)^\prime]$ and $\im (D^{-1}d_i^\prime) \xrightarrow{\psi}\im [(D^{-1}d_i)^\prime]$ are isomorphisms for each $i$, due to the commutativity of the diagram (2).

  Furthermore, $D^{-1}\ker d_i^\prime\cong \ker (D^{-1}d_i^\prime)$ by the map sending $f/w$ to $f/w$ for $f\in \ker d_i^\prime$. This map is a homomorphism and it is injective: if $f/w = 0\in \ker (D^{-1}d_i^\prime)$ there is $y\in D$ with $yf = 0$, so $f/w = yf/yw = 0/w\in D^{-1}\ker d_i^\prime$. Given $g/v\in \ker (D^{-1}d_i^\prime)$, there is $y\in D$ such that $ygd_i = 0$. Thus $yg/yv\in D^{-1}\ker d_i^\prime$ (note $d_i^\prime(yg) = ygd_i = 0$ as needed) is a preimage of $g/v$ under the specified map, so we obtain an isomorphism as needed.
  
  Similarly we have that $D^{-1}\im d_i^\prime\cong \im (D^{-1}d_i^\prime)$ by the `identity' map again: By the same argument we obtain injectivity and given $g/v = fd_i/v\in \im (D^{-1}d_i^\prime)$, a suitable preimage is itself, as $g = fd_i= d_i^\prime f$.

  Since localization commutes with taking quotients, we have for $i\geq 1$ that \begin{multline*}
    D^{-1}\Ext_R^i(M,N)\cong D^{-1}\biggl(\frac{\ker d_{i+1}^\prime}{\im d_i^\prime}\biggr)\cong \frac{D^{-1}\ker d_{i+1}^\prime}{D^{-1}\im d_i^\prime}\\\cong \frac{\ker (D^{-1}d_{i+1}^\prime)}{\im (D^{-1}d_i^\prime)}\cong \frac{\ker [(D^{-1}d_{i+1})^\prime]}{\im [(D^{-1}d_i)^\prime]}\cong \Ext_{D^{-1}R}^i(D^{-1}M,D^{-1}N).
  \end{multline*} For $i = 0$ we have $D^{-1}\Ext_R^0(M,N)\cong D^{-1}\ker d_1^\prime \cong \ker(D^{-1}d_1^\prime)\cong \ker[(D^{-1}d_1)^\prime]\cong \Ext_{D^{-1}R}^0(D^{-1}M,D^{-1}N)$.
\end{enumerate}

\subsection*{Nakayama and Local Rings}
\begin{enumerate}[label=(\alph*)]
  \item If $M$ is generated by $x_1,\dots,x_n$ as an $R$-module then $\mathfrak{m}M$ is given by $\cbr{\sum_i a_ix_i\mid a_i\in \mathfrak{m}}$ as an $R$-submodule of $M$. Then $M/\mathfrak{m}M$ is a finitely generated $R$-module, generated by $\overline{x}_1,\dots,\overline{x}_n$ (since we have the $R$-module surjection $M\to M/\mathfrak{m}M$). Observe that for $\overline m\in M/\mathfrak{m}M$ (with $m$ its preimage under the projection) and $r\in R$, if $r\in \mathfrak{m}$ then $r\overline m= 0$ since $rm\in \mathfrak{m}M$. Define an $R/\mathfrak{m}$-module structure on $M/\mathfrak{m}M$ by $\overline r\cdot \overline m = r\overline m$ where $r$ is any preimage of $\overline r$ under the quotient $R\to R/\mathfrak m$. This is well defined since preimages differ only by elements which are in $\mathfrak m$, which multiply to zero in $M/\mathfrak m M$. It follows that $M/\mathfrak m M$ is generated as an $R/\mathfrak m$-vector space by $\overline x_1,\dots,\overline x_n$ (certainly they are $R$-generators but since any ring elements in the maximal ideal $\mathfrak m$ do not contribute to the generation we have the result).
  
  Now assume that $M/\mathfrak m M$ is generated as an $R/\mathfrak m$-vector space by $\overline x_1,\dots,\overline x_n$. Let $N = \abr{x_1,\dots,x_n}$ be the $R$-module generated by $x_1,\dots,x_n$ and consider $M/N$. Since $M$ is finitely generated, $M/N$ is finitely generated.   We show that $\mathfrak m (M/N) = M/N$, so that by Nakayama (as $\mathfrak m$ is the Jacobson radical of $R$ since $R$ is local) we must have $M = N$. Certainly we have $\mathfrak m (M/N)\subseteq M/N$ so it suffices to see the reverse inclusion. Let $q + N$ be any element of $M/N$, and consider the image of $q$ in the vector space $M/\mathfrak m M$. We have $q+ \mathfrak m M = \sum_{i=1}^n \overline t_i x_i + \mathfrak m M$ where $\overline t_i\in R/\mathfrak m$ (i.e. $t_i\in R$) so that $q = \sum_{i=1}^n t_i x_i + \sum_j a_j m_j$ for some $a_j\in \mathfrak m$. It follows that $q+N = \sum_{i=1}^n t_i x_i + \sum_j a_j m_j + N = \sum_j a_j (m_j + N)$ so that $q+N\in \mathfrak m(M/N)$ as needed. Hence $\mathfrak m(M/N) = M/N$, meaning $M/N = 0$ so that $M = N = \abr{x_1,\dots,x_n}$. 

  \item Free modules are projective, so we show the converse:
  
  Suppose that $M$ is a finitely generated projective $R$-module. Let $\cbr{m_1,\dots,m_k}$ be a minimal generating set for $M$. Let $\varphi\colon R^k\to M$ be the surjective $R$-module map given by taking each generator $e_i$ (the tuple with zeroes in all positions except for $1$ in the $i$-th one) to $m_i$, and extending by linearity. Then form the short exact sequnce $0\to \ker\varphi\to R^k\xrightarrow{\varphi}M\to 0$. We would like $\ker \varphi$ to be finitely generated, but I cannot deduce this from the hypotheses. I believe that $M$ needs to be finitely presented or we can assume $R$ to be Noetherian to achieve this (the former seems to be how it is done in Dummit and Foote), unless there is another way. We proceed with the proof with $\ker \varphi$ finitely generated.

  Then from the $\Tor$ long exact sequence coming from the $-\otimes_R R/\mathfrak m$ functor we have the exact sequence \[\cdots \to \Tor^R_1(M,R/\mathfrak m)\to \ker\varphi\otimes_R R/\mathfrak m \to R^k\otimes_R R/\mathfrak m\to M\otimes_R R/\mathfrak m\to 0.\] Using the isomorphism from Example 8 following Corollary 12 in Section 10.4 in Dummit and Foote and using the fact that $M$ is projective and hence flat, we have the short exact sequence \[0\to \ker\varphi/\mathfrak m\ker \varphi\to (R/\mathfrak m)^k\to M/\mathfrak m M\to 0.\] The map $(R/\mathfrak m)^k\to M/\mathfrak m M$ may be regarded as an $R/\mathfrak m$-module homomorphism also (since tensoring with $R/\mathfrak m$ changes coefficients and yields an $R/\mathfrak m$-module structure), and as this map is surjective, by rank nullity we have that this map is an isomorphism. [The dimension of $M/\mathfrak m M$ is $k = \dim (R/\mathfrak m)^k$ due to part (a) of this problem and by minimality of the size of the generating set $\cbr{m_1,\dots,m_k}$.] It follows that $\ker\varphi/\mathfrak m\ker \varphi \cong 0$ so that $\ker\varphi = \mathfrak m \ker \varphi$. Assuming $\ker\varphi$ is finitely generated, we have by Nakayama's lemma that $\ker \varphi\cong 0$ so that $\varphi$ is an isomorphism. Hence $M\cong R^k$ is free.
\end{enumerate}

\subsection*{Localization and Projective Modules 2} 
\begin{enumerate}
  \item[(b)] In part (a) we showed that the localization of a projective module is still a projective module. So if $M$ is projective then $M_P$ is projective for every prime ideal $P$ of $R$.
  
  Conversely, suppose that $M_P$ is projective (or free by 3(b), as $R_P$ is a local ring) for every prime $P$ of $R$. It follows for any $R$-module $N$ that $0 = \Ext_{R_P}^1(M_P, N_P)\cong [\Ext_R^1(M,N)]_P$ (by 2(b)). Then since $[\Ext_R^1(M,N)]_P\cong 0$ for every prime ideal $P$ of $R$, we have $\Ext_R^1(M,N)\cong 0$. Since $N$ was arbitrary, $M$ is projective.
\end{enumerate}
\end{document}