\documentclass[11pt]{article}

% packages
\usepackage{physics}
% margin spacing
\usepackage[top=1in, bottom=1in, left=0.5in, right=0.5in]{geometry}
\usepackage{hanging}
\usepackage{amsfonts, amsmath, amssymb, amsthm}
\usepackage{systeme}
\usepackage[none]{hyphenat}
\usepackage{fancyhdr}
\usepackage[nottoc, notlot, notlof]{tocbibind}
\usepackage{graphicx}
\graphicspath{{./images/}}
\usepackage{float}
\usepackage{siunitx}
\usepackage{esint}
\usepackage{cancel}
\usepackage{enumitem}
\usepackage{quiver}

% permutations (second line is for spacing)
\usepackage{permute}
\renewcommand*\pmtseparator{\,}

% colors
\usepackage{xcolor}
\definecolor{p}{HTML}{FFDDDD}
\definecolor{g}{HTML}{D9FFDF}
\definecolor{y}{HTML}{FFFFCF}
\definecolor{b}{HTML}{D9FFFF}
\definecolor{o}{HTML}{FADECB}
%\definecolor{}{HTML}{}

% \highlight[<color>]{<stuff>}
\newcommand{\highlight}[2][p]{\mathchoice%
  {\colorbox{#1}{$\displaystyle#2$}}%
  {\colorbox{#1}{$\textstyle#2$}}%
  {\colorbox{#1}{$\scriptstyle#2$}}%
  {\colorbox{#1}{$\scriptscriptstyle#2$}}}%

% header/footer formatting
\pagestyle{fancy}
\fancyhead{}
\fancyfoot{}
\fancyhead[L]{MAS6332 Algebra}
\fancyhead[C]{Homework 9}
\fancyhead[R]{Sai Sivakumar}
\fancyfoot[R]{\thepage}
\renewcommand{\headrulewidth}{1pt}

% paragraph indentation/spacing
\setlength{\parindent}{0cm}
\setlength{\parskip}{10pt}
\renewcommand{\baselinestretch}{1.25}

% extra commands defined here
\newcommand{\br}[1]{\left(#1\right)}
\newcommand{\sbr}[1]{\left[#1\right]}
\newcommand{\cbr}[1]{\left\{#1\right\}}

\newcommand{\dprime}{\prime\prime}

% bracket notation for inner product
\usepackage{mathtools}

\DeclarePairedDelimiterX{\abr}[1]{\langle}{\rangle}{#1}

\DeclareMathOperator{\Span}{span}
\DeclareMathOperator{\nullity}{nullity}
\DeclareMathOperator\Aut{Aut}
\DeclareMathOperator\Inn{Inn}
\DeclareMathOperator{\Orb}{Orb}
\DeclareMathOperator{\lcm}{lcm}
\DeclareMathOperator{\Hol}{Hol}
\DeclareMathOperator{\Jac}{Jac}
\DeclareMathOperator{\rad}{rad}
\DeclareMathOperator{\Tor}{Tor}
\DeclareMathOperator{\End}{End}
\DeclareMathOperator{\Gal}{Gal}
\DeclareMathOperator{\Nat}{Nat}
\DeclareMathOperator{\Frac}{Frac}
\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\Ext}{Ext}
\DeclareMathOperator{\aug}{aug}

% set page count index to begin from 1
\setcounter{page}{1}

\begin{document}
\subsection*{Graded}
\begin{enumerate}
    \item (15.4.16) Prove that localization commutes with tensor products: there is a unique isomorphism of $D^{-1}R$ -modules $\varphi\colon (D^{-1}M)\otimes_{D^{-1}R} (D^{-1}N)\cong D^{-1}(M\otimes_R N)$ with $\varphi((m/d)\otimes(n/d^\prime))$ given by $(m\otimes n)/dd^\prime$ for any $R$-modules $M,N$, and multiplicatively closed set $D$ in $R$. \begin{proof}
        Let $M,N$ be $R$-modules and $D$ a multiplicatively closed subset of $R$. We use the universal property of the tensor product to construct the map $\varphi$ given in the problem statement. 

        Consider the map of $D^{-1}R$-modules $\tilde{\varphi}\colon (D^{-1}M)\times (D^{-1}N)\to D^{-1}(M\otimes_R N)$ which sends $(m/d,n/d^\prime)$ to $(m\otimes n)/dd^\prime$.
        
        The map $\tilde{\varphi}$ is well defined. If $m/d = m_0/d_0$ and $n/d^\prime = n_0/d^\prime_0$ there exist $x,y\in D$ such that $xdm_0 = xd_0m$ and $yd^\prime n_0 = yd^\prime_0n$. It follows that $(m_0\otimes n_0)/d_0d_0^\prime = (m\otimes n)/dd^\prime$ since $xy[dd^\prime(m_0\otimes n_0) - d_0d_0^\prime(m\otimes n)] = 0$ by distributing and using the previous equalities. Thus $\tilde{\varphi}$ is well defined. 

        The map $\tilde{\varphi}$ is $D^{-1}R$-bilinear. We only verify the linearity in the first component since the computation needed to verify linearity in the other component is symmetric to the one following. The element \[\br{\frac{r_1}{e_1}\frac{m_1}{d_1}+\frac{r_2}{e_2}\frac{m_2}{d_2},\frac{n}{d^\prime}} = \br{\frac{e_2d_2r_1m_1 + e_1d_1r_2m_2}{e_1d_1e_2d_2},\frac{n}{d^\prime}}\] maps to \[\frac{(e_2d_2r_1m_1 + e_1d_1r_2m_2)\otimes n}{e_1d_1e_2d_2d^\prime} = \frac{r_1(m_1\otimes n)}{e_1d_1d^\prime} + \frac{r_2(m_2\otimes n)}{e_2d_2d^\prime}\] as needed.

        By the universal property for tensor products, there exists a unique $D^{-1}R$-module homomorphism $\varphi\colon $ $(D^{-1}M)\otimes_{D^{-1}R} (D^{-1}N)\cong D^{-1}(M\otimes_R N)$ with the action on simple tensors as $\varphi((m/d)\otimes(n/d^\prime)) = (m\otimes n)/dd^\prime$.

        To see that $\varphi$ is an isomorphism we trace through existing isomorphisms to realize $\varphi$. We have $D^{-1}M\cong D^{-1}R\otimes_R M$ and $D^{-1}N\cong D^{-1}R\otimes_R N$. Since $R, D^{-1}R$ are commutative we also have the isomorphisms giving the associativity and commutativity of the tensor products involved. In particular we have the following isomorphisms: 
        \begin{multline*}
            (D^{-1}M)\otimes_{D^{-1}R} (D^{-1}N)\cong (D^{-1}R\otimes_R M)\otimes_{D^{-1}R}(D^{-1}R\otimes_R N) \\ \cong (M\otimes_R N)\otimes_R (D^{-1}R\otimes_{D^{-1}R} D^{-1}R) \cong (M\otimes_R N)\otimes_R D^{-1}R \\ \cong D^{-1}R\otimes_R (M\otimes_R N) \cong D^{-1}(M\otimes_R N)
        \end{multline*} We outline the path of the simple tensor $(m/d)\otimes(n/e)$ in the above isomorphisms: 
        \begin{multline*}
            (m/d)\otimes(n/e) \mapsto (1/d\otimes m)\otimes (1/e\otimes n)  \\ \mapsto (m\otimes n)\otimes (1/d\otimes 1/e) \mapsto (m\otimes n)\otimes 1/de \\ \mapsto 1/de\otimes (m\otimes n) \mapsto (m\otimes n)/de
        \end{multline*} It follows that the above isomorphisms realize $\varphi$, so that $\varphi$ is an isomorphism.
        %The map $\varphi$ is surjective. Given an element $(\sum_i m_i\otimes n_i)/d$ in $D^{-1}(M\otimes_R N)$, we have that the image of $\sum_i [(m_i/d)\otimes (n_i/1)]$ under $\varphi$ is $\sum_i( m_i\otimes n_i)/d=(\sum_i m_i\otimes n_i)/d$.
        %The map $\varphi$ is injective since it has a well defined left inverse. Consider the map $\rho$ which sends $(\sum_i m_i\otimes n_i)/d$ to $\sum_i[(m_i/d)\otimes (n_i/1)]$. The map $\rho$ is well defined. If $(\sum_i m_i\otimes n_i)/d = (\sum_j p_j\otimes q_j)/e$ then there is $x\in D$ such that 
    \end{proof}
    \item (15.4.17) Prove that the $R$-module $A$ is a flat $R$-module if and only if $A_P$ is a flat $R_P$-module for every prime ideal $P$ of $R$ (or just for every maximal ideal of $R$). [Use Proposition 41, Exercises 14 and 16, and the exactness properties of localization.] \begin{proof}
        Suppose that $A$ is a flat module, so that the functor $A\otimes_R -$ is exact. For any prime ideal $P$ of $R$ the localization functor $-_P$ is also exact. Thus the functor $-_P\circ A\otimes_R -$ is exact also, but by the previous problem we have that $-_P\circ A\otimes_R - = A_P\otimes_{R_P}-$. Hence $A_P$ is a flat $R_P$-module.
        
        It is certainly true that if $A_P$ is flat (as an $R_P$-module) for every prime ideal $P$ of $R$ then $A_{\mathfrak m}$ is flat (as an $R_{\mathfrak m}$-module) for every maximal ideal $\mathfrak m$, since maximal ideals are prime.
        
        Now suppose $A_{\mathfrak m}$ is a flat $R_{\mathfrak m}$-module for every maximal ideal $\mathfrak m$ of $R$, then $A$ is a flat $R$-module. Suppose that $\varphi\colon M\to N$ is an injective map of $R$-modules. We show that the map $1\otimes \varphi\colon A\otimes_R M\to A\otimes_R N$ is injective. Since $A_{\mathfrak m}\otimes_{R_{\mathfrak m}} -$ is exact for every maximal ideal $\mathfrak m$, each of the induced maps $1\otimes \varphi\colon (A\otimes_R M)_{\mathfrak m}\to (A\otimes_R N)_{\mathfrak m}$ are injective. It follows by 15.4.14 that the map $1\otimes \varphi\colon A\otimes_R M\to A\otimes_R N$ is injective, from which it follows that $A$ is a flat $R$-module.
    \end{proof}
\end{enumerate}
\subsection*{Additional Problems}
\begin{enumerate}
    \item (15.4.14) Suppose $\varphi\colon M\to N$ is an $R$-module homomorphism. Prove that $\varphi$ is injective (respectively, surjective) if and only if the induced $R_P$-module homomorphism $\varphi\colon M_P\to N_P$ is injective (respectively, surjective) for every prime ideal $P$ of $R$ (or just for every maximal ideal of $R$). \begin{proof}
        Since localization is exact, it suffices to show that $\varphi$ is injective (surjective) if we assume that the induced maps $\varphi\colon M_P\to N_P$ for every maximal ideal $P$ of $R$ are injective (surjective).

        Suppose the induced maps are injective for every maximal ideal and suppose by way of contradiction that the kernel of $\varphi\colon M\to N$ is nontrivial. Then let $0\neq k\in \ker \varphi\colon M\to N$. Now consider the annihiliator $I$ of $k$, which is proper since $k$ is nonzero. So $I$ is contained in some maximal ideal $\mathfrak{m}$ and we consider the element $k/1\in M_\mathfrak{m}$. We have that $\varphi(k/1) =\varphi(k)/1 = 0/1 = 0$ so that by the injectivity of the induced map there exists $x\in R\setminus\mathfrak{m}$ with $xk = 0$; that is, $xk\in I\subseteq \mathfrak{m}$. But this is impossible so we must have that $\ker \varphi\colon M\to N$ is trivial as needed.

        Suppose the induced maps are surjective for every maximal ideal and suppose by way of contradiction that $\im \varphi\colon M\to N$ is a proper submodule of $N$. Then in the $R$-module $N/\im \varphi$ let $[n]$ be a nonzero element and consider the annihilator $I$ of $[n]$, which is proper since $[n]$ is nonzero. The ideal $I$ is contained in some maximal ideal $\mathfrak{m}$, and we consider the element $n/1\in N_{\mathfrak{m}}$. By the surjectivity of the induced map $\varphi$ there exists $m/d\in M_{\mathfrak{m}}$ such that $\varphi(m/d) = \varphi(m)/d = n/1$, which implies that there is $x\in R\setminus\mathfrak{m}$ such that $\varphi(xm) = xdn$. It follows that $xd\in I\subseteq \mathfrak{m}$, a contradiction. Hence $\varphi\colon M\to N$ is surjective as needed.
    \end{proof}
    \item (15.4.20) Suppose that $R$ is a subring of the ring $S$ with $1\in R$ and that $S$ is integral over $R$. If $D$ is any multiplicatively closed subset of $R$, prove that $D^{-1}S$ is integral over $D^{-1}R$. \begin{proof}
        Let $R, S$ be as above and let $s/d$ be any element of $D^{-1}S$. As $S$ is integral over $R$ it follows that $s\in S$ satisfies some monic polynomial $x^n+a_{n-1}x^{n-1}+\cdots+a_0$. Then $s/d$ satisfies the monic polynomial $x^n+(a_{n-1}/d)x^{n-1}+\cdots+(a_0/d^n)$. We have $(s/d)^n + (a_{n-1}/d)(s/d)^{n-1}+\cdots+(a_0/d^n) = (s^n+a_{n-1}s^{n-1}+\cdots+a_0)/d^n = 0/d^n = 0$ as needed.
    \end{proof}
    %\item (15.4.24(a-c))
    %\item (15.4.24(d-f))
\end{enumerate}
\subsection*{Feedback}
\begin{enumerate}
    \item None.
    \item Things seem to be the same I think.
\end{enumerate}
\end{document}